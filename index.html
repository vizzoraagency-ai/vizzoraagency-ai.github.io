<!doctype html>
<html lang="az">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>WhatsApp qrupuna qoşul</title>
<meta name="format-detection" content="telephone=no">
<style>
  :root { --green:#25D366; --text:#111; }
  html,body{margin:0;padding:0;background:#f6f7f8;color:var(--text);
    font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif}
  .wrap{min-height:100svh;display:grid;place-items:center;padding:24px}
  .card{max-width:640px;width:100%;background:#fff;border-radius:16px;
    box-shadow:0 6px 24px rgba(0,0,0,.06);padding:28px 24px;text-align:center}
  h1{margin:.2rem 0 1rem;font-size:clamp(22px,4.5vw,30px)}
  p{margin:.6rem 0 .9rem;line-height:1.6}
  .row{display:flex;gap:12px;flex-direction:column;align-items:center}
  .btn{display:inline-block;border:0;border-radius:12px;padding:14px 22px;
    font-weight:700;text-decoration:none;font-size:18px;width:100%;max-width:420px}
  .btn-primary{background:var(--green);color:#fff}
  .btn-outline{background:#eef3ee;color:#0b0b0b}
  .hint{font-size:14px;color:#666;margin-top:8px}
</style>
</head>
<body>
<div class="wrap">
  <div class="card">
    <h1>WhatsApp qrupuna qoşul</h1>
    <p>Aşağıdakı düymələrdən birini seçin. iPhone-da ən etibarlı yol: <b>Brauzerdə aç</b> və ya telefonunda olan tətbiqə uyğun <b>WhatsApp/Business ilə aç</b>.</p>

    <div class="row">
      <a id="openWA"  class="btn btn-primary"  href="#">WhatsApp ilə aç</a>
      <a id="openWAB" class="btn btn-outline" href="#">WhatsApp Business ilə aç</a>
      <a id="openWeb" class="btn btn-outline" href="#" rel="noopener">Brauzerdə aç (backup)</a>
    </div>

    <p class="hint">Brauzerdə aç seçəndə dəvət pəncərəsi (Join Group) ən stabil çıxır.</p>
  </div>
</div>

<script>
  // ==== Dəvət kodun ====
  const CODE   = "BNpKYIFxThjGWEYJV0EALR";
  const ACCEPT = `https://api.whatsapp.com/accept?code=${CODE}`;

  // Deep-link sxemləri (yalnız istifadəçi klikində çalışdırın)
  const DL_WA  = `whatsapp://accept?code=${CODE}`;
  const DL_WAB = `whatsapp-business://accept?code=${CODE}`;

  // Köməkçi: iframe ilə sxemi oyat (iOS üçün sabit nümunə)
  function openScheme(url){
    try{
      const f=document.createElement("iframe");
      f.style.display="none"; f.src=url;
      document.body.appendChild(f);
      setTimeout(()=>{ try{ document.body.removeChild(f);}catch(_){ } }, 900);
    }catch(_){}
  }
  function openWeb(u){ try{ window.open(u, "_blank", "noopener,noreferrer"); } catch(_){ location.href=u; } }

  // Klik eventləri
  document.getElementById("openWA").addEventListener("click", function(e){
    e.preventDefault();
    openScheme(DL_WA);
    // 700 ms sonra ehtiyat üçün accept linkini də aç
    setTimeout(()=>openWeb(ACCEPT), 700);
  });

  document.getElementById("openWAB").addEventListener("click", function(e){
    e.preventDefault();
    openScheme(DL_WAB);
    setTimeout(()=>openWeb(ACCEPT), 700);
  });

  document.getElementById("openWeb").addEventListener("click", function(e){
    e.preventDefault();
    openWeb(ACCEPT);
  });
</script>
</body>
</html>
